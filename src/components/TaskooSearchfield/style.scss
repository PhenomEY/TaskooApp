@import 'src/scss/vars/variables';

.taskoo-search {
  position: relative;

  &.is-focused, &.has-results {
    input {
      max-width: 450px;
    }

    .searchresult-container {
      max-width: 450px;
    }
  }

  &.has-results {
    input {
      border-radius: 15px 15px 0 0;
    }
  }

 input {
   border-radius:15px;
   -moz-appearance: none;
   -webkit-appearance: none;
   appearance: none;
   border:1px solid $taskoo-search-border-color;
   height:28px;
   padding: 3px 20px;
   font-family: "Noto Sans JP";
   font-size:14px;
   transition: border-color 100ms, max-width 100ms, border-radius 100ms;
   width: 100%;
   max-width: 280px;
   background:$taskoo-search-bg;

   &:focus {
     outline: none;
     border-color:$taskoo-search-focus-border-color;
   }
 }


  .searchresult-container {
    position: absolute;
    top:28px;
    left:0;
    width: 100%;
    max-width: 280px;
    border:1px solid var(--taskoo-border-default);
    border-radius: 0 0 $taskoo-border-radius $taskoo-border-radius;
    background: var(--taskoo-default-bg);
    transition: border-color 100ms, max-width 100ms;

    .loader {
      text-align: center;
      padding: 10px;
    }

    .searchresult-actions {
      display:flex;
      padding: 5px 10px;
      border-bottom:1px solid var(--taskoo-border-secondary);

      .label {
        font-size:12px;
        margin-right:25px;
      }

      .searchaction-button {
        padding: 0 5px;
        font-size: 12px;
        border: 1px solid #fff;
        border-radius: 6px;
        margin-right:15px;
        cursor:pointer;

        &.all {
          border-color:#9CA3AF;
          color:#9CA3AF;

          &.active, &:hover {
            background: #9CA3AF;
            color:#ffffff;
          }
        }

        &.tasks {
          border-color:#6366F1;
          color:#6366F1;

          &.active, &:hover {
            background: #6366F1;
            color:#ffffff;
          }
        }

        &.medias {
          border-color:#EC4899;
          color:#EC4899;

          &.active, &:hover {
            background: #EC4899;
            color:#ffffff;
          }
        }
      }
    }

    .searchresults {
      padding: 5px 10px;

      .color-brick {
        height: 8px;
        width: 8px;
        display: inline-block;
        margin-left: 5px;
        background: $taskoo-main;
      }

      .tasks {
        .label {
          color:#6366F1;
          font-size: 12px;
        }

        .task-result {
          padding: 5px 0;
          border-bottom:1px solid var(--taskoo-border-secondary);

          .task-information {
            display: flex;
            flex-direction: row;

            .name {
              flex:1;
              color:inherit;

              &:hover {
                text-decoration: none;
              }
            }

            .project-entry {
              color:rgba(0,0,0,0.5);
              margin-right:20px;
              .label {
                font-size:10px;
                color:rgba(0,0,0,0.5);
              }

              .project {
                font-size: 11px;
                font-weight: bold;
                color:inherit;

                &:hover {
                  text-decoration: none;
                  color:rgba(0,0,0,0.8);
                }
              }
            }
          }

          .task-description {
            color:rgba(0,0,0,0.5);
            font-size:12px;
          }
        }
      }

      .medias {
        margin-top: 10px;
        .label {
          color:#EC4899;
          font-size: 12px;
        }

        .media-result {
          padding: 5px 0;
          display:flex;
          flex-direction: row;

          .preview {
            width: 100px;
            margin-right:20px;
            img {
              max-width: 100%;
              max-height: 100%;
              height:auto;
            }
          }

          .name {
            margin-right:20px;
            flex:1;
          }

          .task {
            font-size:10px;
            color:rgba(0,0,0,0.5);
            margin-right:20px;

            a {
              color: inherit;
              font-weight: bold;
              margin-left:5px;
              font-size: 11px;

              &:hover {
                text-decoration: none;
                color:rgba(0,0,0,0.8);
              }
            }
          }
        }
      }
    }
  }
}

.taskoo-dark-theme {
  .taskoo-search {
    input {
      background:var(--taskoo-wrapper-bg);
      border-color:var(--taskoo-wrapper-bg);
    }
  }
}
